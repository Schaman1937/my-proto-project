(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{8552:function(e,t,r){Promise.resolve().then(r.bind(r,8578))},8578:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(1844),a=r(5092),n=r(4743),l=r(5784);function i(e){let{sessionStatus:t}=e,r=[{id:1,text:"Как называется период в истории человечества до изобретения письменности?",options:[{text:"Доистория",isCorrect:!0,details:"Это корректно, доистория..."},{text:"Средние века",isCorrect:!1,details:"Средние века — другое..."},{text:"Античность",isCorrect:!1,details:"Античность — другое..."}]},{id:2,text:"Какой металл начали обрабатывать первым?",options:[{text:"Железо",isCorrect:!1,details:"Железо позднее..."},{text:"Медь",isCorrect:!0,details:"Медь — первый металл..."},{text:"Бронза",isCorrect:!1,details:"Бронза — сплав..."}]}],[a,n]=(0,l.useState)({});if("break"===t){let e=0;return r.forEach(t=>{var r;(null===(r=a[t.id])||void 0===r?void 0:r.correct)&&e++}),(0,s.jsxs)("div",{className:"bg-gray-800 p-4 rounded",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Итоги агона"}),(0,s.jsxs)("p",{className:"mb-4",children:["Вы набрали ",e," из ",r.length," баллов!"]}),r.map(e=>{let t=a[e.id],r=null==t?void 0:t.correct;return(0,s.jsxs)("div",{className:"mb-4 border border-gray-700 p-2 rounded",children:[(0,s.jsx)("p",{className:"font-semibold text-gray-100",children:e.text}),r?(0,s.jsx)("p",{className:"text-green-400",children:"✓ Правильно"}):(0,s.jsxs)("div",{className:"text-red-400",children:["✗ Ошибка",(0,s.jsxs)("p",{className:"text-gray-200 mt-1",children:["Правильный ответ: ",null==t?void 0:t.details]})]})]},e.id)})]})}return(0,s.jsxs)("div",{className:"bg-gray-800 p-4 rounded",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Вопросы"}),r.map(e=>{let t=a[e.id],l=!!t;return(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("p",{className:"font-semibold text-gray-100 mb-2",children:e.text}),e.options.map((a,i)=>{if(l){let e=i===t.chosenIndex;return(0,s.jsx)("div",{className:"p-2 rounded mb-1 "+(e?"bg-blue-600 text-white":"bg-gray-700 text-gray-300"),children:a.text},i)}return(0,s.jsx)("button",{className:"w-full text-left border border-gray-600 p-2 my-1 hover:bg-gray-700 rounded",onClick:()=>(function(e,t){let s=r.find(t=>t.id===e);if(!s)return;let a=s.options[t];n(r=>({...r,[e]:{chosenIndex:t,correct:a.isCorrect,details:a.details}}))})(e.id,i),children:a.text},i)}),l&&!t.correct&&(0,s.jsxs)("p",{className:"text-sm text-gray-300 mt-1",children:["Развернутый правильный ответ: ",t.details]})]},e.id)})]})}var c=r(9152);function d(){let{sessionStatus:e}=(0,l.useContext)(c.TimerContext);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.default,{}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Агон"}),(0,s.jsx)(i,{sessionStatus:e})]}),(0,s.jsx)(n.Z,{})]})}},4743:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(1844);function a(){return(0,s.jsx)("footer",{className:"bg-gray-800 mt-8 py-4",children:(0,s.jsx)("div",{className:"container mx-auto text-center text-gray-400",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Протоистория. Все права защищены."]})})})}},5092:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(1844),a=r(1664),n=r.n(a),l=r(5784),i=r(9152);function c(){let{sessionStatus:e,timeLeft:t,breakLeft:r,setSessionStatus:a,setTimeLeft:c,setBreakLeft:d}=(0,l.useContext)(i.TimerContext);(0,l.useEffect)(()=>{if("play"===e&&t>0){let e=setInterval(()=>{c(e=>e-1)},1e3);return()=>clearInterval(e)}if("play"===e&&t<=0&&a("break"),"break"===e&&r>0){let e=setInterval(()=>{d(e=>e-1)},1e3);return()=>clearInterval(e)}"break"===e&&r<=0&&(a("play"),c(900),d(300))},[e,t,r,a,c,d]);let o="break"===e,x=o?r:t,u="".concat(String(Math.floor(x/60)).padStart(2,"0"),":").concat(String(x%60).padStart(2,"0"));return(0,s.jsx)("header",{className:"bg-gray-800 shadow mb-4",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("img",{src:"/logo.png",alt:"Логотип",className:"h-8 w-8 object-contain"}),(0,s.jsx)(n(),{href:"/",className:"text-2xl font-bold text-gray-100 hover:text-white",children:"Протоистория"})]}),(0,s.jsxs)("nav",{className:"flex items-center space-x-4",children:[(0,s.jsx)(n(),{href:"/agon",className:"text-gray-300 hover:text-white",children:"Агон"}),(0,s.jsx)(n(),{href:"/attributes",className:"text-gray-300 hover:text-white",children:"Атрибутика"}),(0,s.jsx)(n(),{href:"/materials",className:"text-gray-300 hover:text-white",children:"Материалы"}),(0,s.jsx)(n(),{href:"/leaderboard",className:"text-gray-300 hover:text-white",children:"Доска почёта"}),(0,s.jsx)(n(),{href:"/login",className:"border border-gray-600 px-2 py-1 rounded text-gray-300 hover:text-white hover:bg-gray-700",children:"Войти"}),o?(0,s.jsxs)("div",{className:"text-red-400 font-bold ml-3",children:["Перерыв: ",u]}):(0,s.jsxs)("div",{className:"text-green-400 font-bold ml-3",children:["До конца агона: ",u]})]})]})})}},9152:function(e,t,r){"use strict";r.r(t),r.d(t,{TimerContext:function(){return n},TimerProvider:function(){return l}});var s=r(1844),a=r(5784);let n=(0,a.createContext)();function l(e){let{children:t}=e,[r,l]=(0,a.useState)("play"),[i,c]=(0,a.useState)(900),[d,o]=(0,a.useState)(300);return(0,s.jsx)(n.Provider,{value:{sessionStatus:r,timeLeft:i,breakLeft:d,setSessionStatus:l,setTimeLeft:c,setBreakLeft:o},children:t})}},2431:function(){}},function(e){e.O(0,[372,17,744],function(){return e(e.s=8552)}),_N_E=e.O()}]);