(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[133],{8888:function(e,t,r){Promise.resolve().then(r.bind(r,5092)),Promise.resolve().then(r.t.bind(r,4090,23))},5092:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var a=r(1844),n=r(1664),s=r.n(n),l=r(5784),i=r(9152);function c(){let{sessionStatus:e,timeLeft:t,breakLeft:r,setSessionStatus:n,setTimeLeft:c,setBreakLeft:o}=(0,l.useContext)(i.TimerContext);(0,l.useEffect)(()=>{if("play"===e&&t>0){let e=setInterval(()=>{c(e=>e-1)},1e3);return()=>clearInterval(e)}if("play"===e&&t<=0&&n("break"),"break"===e&&r>0){let e=setInterval(()=>{o(e=>e-1)},1e3);return()=>clearInterval(e)}"break"===e&&r<=0&&(n("play"),c(900),o(300))},[e,t,r,n,c,o]);let x="break"===e,h=x?r:t,d="".concat(String(Math.floor(h/60)).padStart(2,"0"),":").concat(String(h%60).padStart(2,"0"));return(0,a.jsx)("header",{className:"bg-gray-800 shadow mb-4",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("img",{src:"/logo.png",alt:"Логотип",className:"h-8 w-8 object-contain"}),(0,a.jsx)(s(),{href:"/",className:"text-2xl font-bold text-gray-100 hover:text-white",children:"Протоистория"})]}),(0,a.jsxs)("nav",{className:"flex items-center space-x-4",children:[(0,a.jsx)(s(),{href:"/agon",className:"text-gray-300 hover:text-white",children:"Агон"}),(0,a.jsx)(s(),{href:"/attributes",className:"text-gray-300 hover:text-white",children:"Атрибутика"}),(0,a.jsx)(s(),{href:"/materials",className:"text-gray-300 hover:text-white",children:"Материалы"}),(0,a.jsx)(s(),{href:"/leaderboard",className:"text-gray-300 hover:text-white",children:"Доска почёта"}),(0,a.jsx)(s(),{href:"/login",className:"border border-gray-600 px-2 py-1 rounded text-gray-300 hover:text-white hover:bg-gray-700",children:"Войти"}),x?(0,a.jsxs)("div",{className:"text-red-400 font-bold ml-3",children:["Перерыв: ",d]}):(0,a.jsxs)("div",{className:"text-green-400 font-bold ml-3",children:["До конца агона: ",d]})]})]})})}},9152:function(e,t,r){"use strict";r.r(t),r.d(t,{TimerContext:function(){return s},TimerProvider:function(){return l}});var a=r(1844),n=r(5784);let s=(0,n.createContext)();function l(e){let{children:t}=e,[r,l]=(0,n.useState)("play"),[i,c]=(0,n.useState)(900),[o,x]=(0,n.useState)(300);return(0,a.jsx)(s.Provider,{value:{sessionStatus:r,timeLeft:i,breakLeft:o,setSessionStatus:l,setTimeLeft:c,setBreakLeft:x},children:t})}},2431:function(){}},function(e){e.O(0,[372,17,744],function(){return e(e.s=8888)}),_N_E=e.O()}]);